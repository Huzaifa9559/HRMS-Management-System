services:
  # Frontend service - no external ports needed (accessed via nginx reverse proxy)
  frontend:
    image: ${FRONTEND_IMAGE:-hrms-frontend:latest}
    container_name: hrms-frontend
    restart: unless-stopped
    # No ports exposed - nginx reverse proxy handles external access
    # If you need direct access for debugging, uncomment the line below and use a different port
    # ports:
    #   - "3000:80"
    environment:
      # Frontend Environment Variables (React)
      - REACT_APP_BACKEND_URL=${REACT_APP_BACKEND_URL}
      - REACT_APP_FRONTEND_URL=${REACT_APP_FRONTEND_URL}
    networks:
      - hrms-network
    healthcheck:
      test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost/"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s

networks:
  hrms-network:
    external: true
    name: hrms-network

