version: '3.8'

services:
  # Nginx service using official nginx image
  frontend:
    image: ${FRONTEND_IMAGE:-hrms-frontend:latest}
    container_name: hrms-frontend
    restart: unless-stopped
    ports:
      - "80:80"
    environment:
      # Frontend Environment Variables (React)
      - REACT_APP_BACKEND_URL=${REACT_APP_BACKEND_URL}
      - REACT_APP_FRONTEND_URL=${REACT_APP_FRONTEND_URL}
    networks:
      - hrms-network
    healthcheck:
      test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost/"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s

networks:
  hrms-network:
    external: true
    name: hrms-network

